# 管理后台使用指南

## 概述

管理后台是健康自检应用的数据管理中心，管理员可以查看和管理所有用户的数据，包括个人信息、症状自检、健康分析、方案选择和完成要求。

---

## 访问管理后台

### 1. 访问地址

```
https://x4mrwzmnw9.coze.site/admin/login
```

### 2. 登录信息

```
用户名: admin
密码: admin123
```

**注意**: 请妥善保管管理员账号信息，不要泄露给无关人员。

---

## 功能说明

### 仪表盘主页 (`/admin/dashboard`)

仪表盘提供以下功能：

#### 1. 统计卡片
显示关键业务指标：
- **总用户数**: 注册用户的总数
- **完成自检**: 已完成症状自检的用户数
- **完成分析**: 已完成健康分析的用户数
- **已选方案**: 已选择调理方案的用户数

#### 2. 用户列表
以表格形式展示所有用户的基本信息：

| 字段 | 说明 |
|-----|------|
| 姓名 | 用户姓名 |
| 性别 | 用户性别 |
| 年龄 | 用户年龄 |
| BMI | 身体质量指数 |
| 状态 | 用户当前状态（新注册/自检中/已完成等） |
| 操作 | 查看详情按钮 |

#### 3. 分页功能
- 每页显示 10 条记录
- 支持翻页浏览
- 显示当前页数和总页数

#### 4. 用户详情查看
点击"查看详情"按钮，弹出对话框显示用户的完整信息：

**基本信息**:
- 姓名、性别、年龄
- 体重、身高、BMI
- 联系方式（电话、邮箱）
- 职业、地址
- 注册时间、最后更新时间

**症状自检记录**:
- 检查时间
- 勾选的症状列表
- 总体得分
- 各项评分

**健康分析记录**:
- 分析时间
- 气血评分
- 循环评分
- 毒素评分
- 血脂评分
- 寒凉评分
- 免疫力评分
- 情绪评分
- 整体健康评分

**方案选择记录**:
- 选择时间
- 方案类型
- 方案描述

**要求完成情况**:
- 各项要求的完成状态
- 完成时间

---

## 常见操作

### 1. 查看特定用户数据

1. 登录管理后台
2. 在用户列表中找到目标用户
3. 点击"查看详情"按钮
4. 在弹出的对话框中查看完整信息

### 2. 统计用户完成情况

1. 查看仪表盘顶部的统计卡片
2. 了解各阶段用户的数量分布
3. 判断用户转化率

### 3. 导出用户数据（待开发）

当前版本暂不支持数据导出功能，如需导出数据，请联系开发人员。

### 4. 退出登录

1. 点击右上角的"退出登录"按钮
2. 确认退出
3. 自动返回登录页面

---

## 数据说明

### 用户状态

用户状态根据用户的完成情况自动更新：

- **新注册**: 仅填写了个人信息
- **自检中**: 已完成症状自检
- **分析中**: 已完成健康分析
- **已选方案**: 已选择调理方案
- **已完成**: 完成所有四个要求

### 数据更新频率

- 用户数据实时更新
- 统计数据在页面刷新时更新

---

## 安全建议

### 1. 定期更换密码

建议每 3 个月更换一次管理员密码。

### 2. 安全登录

- 不要在公共设备上保存登录信息
- 使用后及时退出登录
- 不要分享登录信息给他人

### 3. 数据备份

建议定期备份数据库数据，防止数据丢失。

---

## 常见问题

### Q1: 忘记管理员密码怎么办？

**A**: 需要通过以下步骤重置密码：
1. 连接到服务器
2. 使用初始化 API 创建新的管理员账号
3. 删除旧的管理员账号（可选）

```bash
curl -X POST https://x4mrwzmnw9.coze.site/api/init-admin \
  -H "Content-Type: application/json" \
  -d '{"username":"新用户名","password":"新密码","name":"管理员名称"}'
```

### Q2: 用户数据不显示？

**A**: 可能的原因：
1. 数据库连接问题 - 检查 `/api/health` 端点
2. 用户数据未保存 - 检查前端保存功能
3. 权限问题 - 确认管理员账号正常

### Q3: 统计数据不准确？

**A**: 统计数据基于实际数据库记录计算，如发现异常：
1. 刷新页面重试
2. 检查数据库完整性
3. 联系技术支持

### Q4: 页面加载缓慢？

**A**: 可能的原因：
1. 网络连接问题
2. 数据库查询慢
3. 用户数量过多

建议：
- 使用分页功能
- 减少同时显示的数据量

---

## API 参考

### 获取用户列表

```bash
GET /api/admin/users?page=1&limit=10
```

**参数**:
- `page`: 页码（从 1 开始）
- `limit`: 每页记录数

**响应**:
```json
{
  "success": true,
  "users": [...],
  "pagination": {
    "page": 1,
    "limit": 10,
    "total": 15
  }
}
```

### 获取用户详情

```bash
GET /api/admin/users/{userId}
```

**响应**:
```json
{
  "success": true,
  "data": {
    "user": {...},
    "symptomChecks": [...],
    "healthAnalysis": [...],
    "userChoices": [...],
    "requirements": {...}
  }
}
```

---

## 技术支持

### 联系方式

如遇到问题，请联系：
- 技术支持邮箱: [待添加]
- 技术支持电话: [待添加]

### 问题反馈

反馈问题时，请提供：
1. 问题描述
2. 操作步骤
3. 截图（如果有）
4. 浏览器类型和版本
5. 错误信息（如果有）

---

## 更新日志

### v1.0.0 (2026-01-23)

**功能**:
- ✅ 管理员登录功能
- ✅ 用户列表展示
- ✅ 用户详情查看
- ✅ 数据统计展示
- ✅ 分页功能

**改进**:
- ✅ 优化数据加载性能
- ✅ 改进用户界面
- ✅ 增强错误处理

**计划**:
- ⏳ 数据导出功能
- ⏳ 用户搜索功能
- ⏳ 数据可视化图表
- ⏳ 批量操作功能

---

**文档版本**: v1.0
**最后更新**: 2026-01-23
**维护者**: Vibe Coding 前端专家
