# Coze 平台部署指南 - 版本 8eafc8e

## 📋 部署信息

- **版本**: `8eafc8e`
- **提交信息**: "feat: 优化健康详细数据页面显示，添加症状具体名称和中文名称"
- **部署环境**: Coze 平台
- **目标地址**: https://cd776816-213e-4c84-af60-dbe5b397d82e.dev.coze.site/admin/dashboard

## ✅ 当前状态

代码已恢复到版本 `8eafc8e`，主要包含以下特性：

### 1. 严重+紧急症状的具体名称显示
- ✅ 导入 `BODY_SYMPTOMS`, `SEVERE_SYMPTOM_IDS`, `EMERGENCY_SYMPTOM_IDS`
- ✅ 根据症状ID查找症状名称
- ✅ 在 UI 中显示具体症状名称列表（带圆点标记）
- ✅ 显示严重+紧急症状总数

### 2. 脏腑功能评估显示中文名称
- ✅ 使用中文键名：心、肝、脾、肺、肾
- ✅ 显示评分和状态

### 3. 湿热寒凉显示中文名称
- ✅ 使用中文键名：寒湿、湿热、寒、热、湿、燥
- ✅ 显示状态和描述

### 4. UI 优化
- ✅ 严重+紧急症状区域使用红色系配色
- ✅ 显示具体症状名称列表（带红色圆点标记）
- ✅ 界面清晰可读

## 🚀 部署步骤

### 方法 1：通过 Coze 平台触发部署（推荐）

1. **登录 Coze 平台**
   - 访问：https://www.coze.com/
   - 登录你的账号

2. **进入项目管理**
   - 找到你的健康自检系统项目
   - 进入项目详情页面

3. **触发重新部署**
   - 在项目详情页面，找到"部署"或"构建"选项
   - 点击"重新部署"或"触发构建"按钮
   - 等待构建完成

4. **验证部署**
   - 构建完成后，访问预览地址：
     ```
     https://cd776816-213e-4c84-af60-dbe5b397d82e.dev.coze.site/admin/dashboard
     ```
   - 检查健康详细数据页面是否显示正确

### 方法 2：通过 Git 推送触发自动部署

如果你的 Coze 项目配置了 Git 集成，可以通过 Git 推送触发自动部署：

1. **推送代码到 Git**
   ```bash
   # 确保在正确的分支上
   git checkout main

   # 推送代码
   git push origin main
   ```

2. **等待自动部署**
   - Coze 平台会自动检测到新的提交
   - 触发自动构建和部署
   - 等待部署完成

3. **验证部署**
   - 访问预览地址验证功能

## 🔍 验证步骤

部署完成后，请验证以下功能：

### 1. 健康详细数据页面
访问：`https://cd776816-213e-4c84-af60-dbe5b397d82e.dev.coze.site/health-detail`

检查项：
- [ ] 严重+紧急症状显示具体名称（如：头痛、失眠）
- [ ] 严重+紧急症状显示总数（如：6项）
- [ ] 症状名称列表带红色圆点标记
- [ ] 脏腑功能显示中文名称（心、肝、脾、肺、肾）
- [ ] 湿热寒凉显示中文名称（寒湿、湿热、寒、热、湿、燥）
- [ ] UI 界面清晰可读，配色正确

### 2. 后台管理页面
访问：`https://cd776816-213e-4c84-af60-dbe5b397d82e.dev.coze.site/admin/dashboard`

检查项：
- [ ] 页面正常加载
- [ ] 数据显示正确
- [ ] 所有功能正常工作

## ⚠️ 注意事项

1. **部署时间**
   - 首次部署可能需要 5-10 分钟
   - 后续部署通常在 2-3 分钟内完成

2. **缓存问题**
   - 如果部署后看不到更新，请清除浏览器缓存
   - 或使用无痕模式访问

3. **环境变量**
   - 确保 Coze 平台的环境变量配置正确
   - 特别是数据库连接配置

4. **数据持久化**
   - 部署不会影响已存储的数据
   - 用户数据会保留

## 📞 问题排查

### 问题 1：部署失败

**症状**：部署过程中出现错误

**解决方法**：
1. 检查 Coze 平台的构建日志
2. 确认代码是否有语法错误
3. 检查依赖是否完整
4. 联系 Coze 技术支持

### 问题 2：页面无法访问

**症状**：部署成功后页面无法访问

**解决方法**：
1. 检查网络连接
2. 确认 URL 是否正确
3. 清除浏览器缓存
4. 等待 DNS 解析生效

### 问题 3：功能异常

**症状**：页面可访问但功能不正常

**解决方法**：
1. 检查浏览器控制台错误信息
2. 查看网络请求是否正常
3. 检查数据库连接是否正常
4. 查看 Coze 平台的应用日志

## 📊 部署记录

| 时间 | 版本 | 状态 | 备注 |
|------|------|------|------|
| 2025-02-03 | 8eafc8e | 待部署 | 恢复版本 8eafc8e |

## ✅ 完成确认

部署完成后，请在以下项目前打钩：

- [ ] 代码已推送到 Coze 平台
- [ ] 构建成功
- [ ] 部署成功
- [ ] 健康详细数据页面功能验证通过
- [ ] 后台管理页面功能验证通过
- [ ] 所有测试用例通过

---

**如需帮助，请联系开发团队。**
