# 健康七问 V2 版本更新说明

## 📋 更新概述

健康七问已从 V1 版本升级到 V2 版本，核心设计理念从**症状描述**转向**生活习惯**，从**被动应对**转向**主动预防**。

---

## 🔄 版本对比

### V1 版本（旧版）
**设计理念**：症状追踪，被动应对

**问题列表**：
1. 多长时间犯一次？
2. 一次要多久？
3. 具体表现是什么？
4. 用了哪些方法干预？
5. 这个症状从什么时候开始的？当时发生了什么事？
6. 什么情况下会减轻？
7. 最近一次出现是什么时候，发生了什么？

**特点**：
- 专注于症状描述
- 追溯症状历史
- 寻找症状规律
- **被动**：出现问题后应对

### V2 版本（新版）
**设计理念**：生活习惯，主动预防

**问题列表**：
1. 您的睡眠情况如何？每天大概睡多久？是否经常熬夜或睡眠质量差？
2. 您平时的饮食习惯是怎样的？是否按时吃饭？喜欢重口味、油腻或生冷食物？
3. 您每周会运动吗？一般做什么运动？每次运动多长时间？
4. 您的工作压力大吗？每天工作多长时间？是否经常加班或感到疲劳？
5. 您的情绪状态如何？是否经常感到焦虑、烦躁或情绪低落？如何调节情绪？
6. 您最希望改善的健康问题是什么？为什么这个问题对您很重要？
7. 为了改善健康，您愿意做出哪些改变？您认为最难坚持的是什么？

**特点**：
- 专注于生活习惯
- 了解行动意愿
- 制定改善计划
- **主动**：预防问题发生

---

## 📊 数据结构变化

### V1 数据结构
```typescript
{
  id: number,
  question: string,
  description: string
}
```

### V2 数据结构
```typescript
{
  id: number,
  question: string,
  description: string,
  category: string,      // 新增：分类（生活习惯、生活压力、心理健康等）
  importance: string      // 新增：重要性（高、中）
}
```

---

## 🏷️ 七问分类

### 生活习惯（1-3问）
- **睡眠习惯**：了解作息规律
- **饮食习惯**：了解营养摄入
- **运动习惯**：了解运动状况

### 生活压力（4问）
- **工作压力**：了解压力来源

### 心理健康（5问）
- **情绪状态**：了解心理健康

### 健康目标（6问）
- **改善目标**：了解用户期望

### 行动承诺（7问）
- **改变意愿**：了解用户决心

---

## ⭐ 重要性分级

| 级别 | 图标 | 说明 |
|------|------|------|
| 高 | 🔴 | 对健康影响重大，需要重点关注和改善 |
| 中 | 🟡 | 对健康有影响，建议适度关注和改善 |
| 低 | 🟢 | 对健康影响较小，可作为参考 |

**新版七问重要性分布**：
- 🔴 高重要：4问（1, 2, 3, 6, 7）
- 🟡 中重要：2问（4, 5）

---

## 🎯 设计优势

### V1 的问题
1. ❌ 仅关注症状，忽略生活习惯
2. ❌ 被动应对，预防性差
3. ❌ 缺乏行动导向
4. ❌ 缺乏分类和优先级

### V2 的优势
1. ✅ 关注生活习惯，找到根本原因
2. ✅ 主动预防，提升健康意识
3. ✅ 行动导向，制定改善计划
4. ✅ 清晰分类，便于管理
5. ✅ 重要性分级，突出重点

---

## 💡 使用场景

### V1 适用场景
- 已经出现健康问题，需要详细了解症状
- 需要追溯症状历史和规律
- 需要评估症状严重程度

### V2 适用场景
- 健康评估，了解生活习惯
- 制定健康管理计划
- 预防健康问题发生
- 建立健康档案

---

## 📝 数据兼容性

### 新旧数据兼容
- ✅ **完全兼容**：新版本可以读取旧版本数据
- ✅ **自动迁移**：旧版本数据自动适配新版本结构
- ⚠️ **补充字段**：旧版本数据补充 `category` 和 `importance` 字段

### 数据示例

**旧版本数据**：
```json
{
  "1": { "answer": "每周都会犯一次", "date": "2026-01-27T10:00:00.000Z" }
}
```

**新版本数据**：
```json
{
  "1": {
    "answer": "我每天晚上10点半睡觉，早上6点半起床，睡眠质量很好",
    "date": "2026-01-27T10:00:00.000Z",
    "category": "生活习惯",
    "importance": "高"
  }
}
```

---

## 🚀 更新内容

### 前端更新
1. ✅ 更新 `src/lib/health-data.ts` 中的 `SEVEN_QUESTIONS`
2. ✅ 更新七问填写页面 `src/app/analysis/page.tsx`
3. ✅ 添加分类和重要性显示
4. ✅ 优化 UI 体验

### 后端更新
1. ✅ 更新后台显示页面 `src/app/admin/dashboard/page.tsx`
2. ✅ 更新对比页面 `src/app/admin/compare/page.tsx`
3. ✅ 更新标题和描述

### 新增文件
1. ✅ `src/lib/seven-questions-v2.ts` - 新版七问完整数据
2. ✅ 分类和重要性说明
3. ✅ 答案示例

---

## 🎨 UI 改进

### 填写页面
- 🎯 添加分类标签
- 🎯 添加重要性标记
- 🎯 优化问题列表显示
- 🎯 改进进度提示

### 后台页面
- 🎯 更新标题为"健康七问（V2新版）"
- 🎯 保持原有功能不变
- 🎯 兼容旧版本数据显示

---

## ✅ 测试验证

### 功能测试
1. ✅ 填写页面正常显示
2. ✅ 数据保存成功
3. ✅ 后台显示正常
4. ✅ 旧版本数据兼容

### 用户体验测试
1. ✅ 分类清晰易懂
2. ✅ 重要性标记直观
3. ✅ 问题列表易于导航
4. ✅ 填写流程顺畅

---

## 📈 后续优化建议

### 短期优化
1. ⏳ 根据分类显示不同颜色的标签
2. ⏳ 添加答案示例提示
3. ⏳ 改进答案输入体验

### 长期优化
1. ⏳ 根据答案自动生成健康报告
2. ⏳ 提供个性化建议
3. ⏳ 添加健康评分系统

---

## 📞 技术支持

如有问题或建议，请联系开发团队。

**更新日期**：2026-01-27
**版本**：V2.0.0
**状态**：✅ 已上线
